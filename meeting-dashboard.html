<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meeting Dashboard - Chair View</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82c4 100%);
            min-height: 100vh;
            color: #333;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .meeting-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .card {
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .card h2 {
            margin-bottom: 20px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* STATISTICS OVERVIEW */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #3b82f6, #1e40af);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(59,130,246,0.3);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* PYRAMID OVERVIEW */
        .pyramid-dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .pyramid-visual {
            grid-column: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .pyramid-row {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .pyramid-item {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pyramid-item:hover {
            transform: scale(1.1);
        }

        .pyramid-critical {
            background: linear-gradient(135deg, #1e3a8a, #1e40af);
            width: 70px;
        }

        .pyramid-important {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            width: 60px;
        }

        .pyramid-foundational {
            background: linear-gradient(135deg, #93c5fd, #60a5fa);
            width: 45px;
        }

        .completion-indicator {
            position: absolute;
            bottom: -5px;
            right: -5px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            border: 2px solid white;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-complete {
            background: #27ae60;
        }

        .status-dont-know {
            background: #f39c12;
        }

        .status-pending {
            background: #95a5a6;
        }

        .pyramid-stats {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .level-stat {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
        }

        .critical-stat {
            background: linear-gradient(135deg, rgba(30,58,138,0.1), rgba(30,64,175,0.05));
            border: 2px solid #1e3a8a;
        }

        .important-stat {
            background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(37,99,235,0.05));
            border: 2px solid #3b82f6;
        }

        .foundational-stat {
            background: linear-gradient(135deg, rgba(147,197,253,0.1), rgba(96,165,250,0.05));
            border: 2px solid #93c5fd;
        }

        /* TOPICS MANAGEMENT */
        .topics-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .topic-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .topic-item {
            background: rgba(52,152,219,0.1);
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            position: relative;
        }

        .topic-item.emergency {
            border-left-color: #e74c3c;
            background: rgba(231,76,60,0.1);
            animation: pulse 2s infinite;
        }

        .topic-item.grouped {
            border-left-color: #f39c12;
            background: rgba(243,156,18,0.1);
        }

        .topic-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .topic-title {
            font-weight: bold;
            color: #333;
            flex: 1;
        }

        .topic-meta {
            display: flex;
            gap: 8px;
            font-size: 0.8rem;
        }

        .topic-actions {
            margin-top: 10px;
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 4px 8px;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-group {
            background: #f39c12;
            color: white;
        }

        .btn-delete {
            background: #e74c3c;
            color: white;
        }

        .btn-small:hover {
            transform: translateY(-1px);
        }

        /* GROUPED TOPICS */
        .topic-group {
            background: rgba(243,156,18,0.15);
            border: 2px solid #f39c12;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .group-header {
            font-weight: bold;
            color: #e67e22;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .group-topics {
            margin-left: 15px;
        }

        .group-topic {
            background: rgba(255,255,255,0.7);
            padding: 8px 12px;
            margin-bottom: 5px;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        /* ACTION BUTTONS */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary:hover, .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        /* SHOUTOUTS DISPLAY */
        .shoutouts-display {
            max-height: 300px;
            overflow-y: auto;
        }

        .shoutout-item {
            background: linear-gradient(135deg, rgba(46,204,113,0.1), rgba(39,174,96,0.05));
            border-left: 4px solid #2ecc71;
            padding: 12px 16px;
            margin-bottom: 10px;
            border-radius: 8px;
        }

        .low-scores {
            background: linear-gradient(135deg, rgba(231,76,60,0.1), rgba(192,57,43,0.05));
            border: 2px solid #e74c3c;
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }

        .low-score-item {
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(255,255,255,0.7);
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .score-badge {
            background: #e74c3c;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>📊 Meeting Dashboard</h1>
            <div class="meeting-info">
                <div class="info-item">
                    <span>📅</span>
                    <span id="meetingDate">Today's Team Check-in</span>
                </div>
                <div class="info-item">
                    <span>⏰</span>
                    <span id="meetingTime">60 minutes allocated</span>
                </div>
                <div class="info-item">
                    <span>👥</span>
                    <span id="participantCount">8 participants</span>
                </div>
            </div>
        </div>

        <!-- STATISTICS OVERVIEW -->
        <div class="card">
            <h2>📈 Participation Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">87%</div>
                    <div class="stat-label">Response Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">23</div>
                    <div class="stat-label">Discussion Topics</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">15</div>
                    <div class="stat-label">Team Shoutouts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">4</div>
                    <div class="stat-label">Emergency Items</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">6.8</div>
                    <div class="stat-label">Avg Team Health</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12%</div>
                    <div class="stat-label">"Don't Know" Rate</div>
                </div>
            </div>
        </div>

        <!-- PYRAMID OVERVIEW -->
        <div class="card">
            <h2>🔺 Strategic Objectives Status</h2>
            <div class="pyramid-dashboard">
                <div></div>
                <div class="pyramid-visual">
                    <div class="pyramid-row">
                        <div class="pyramid-item pyramid-critical" title="Research Vessel Deployment - Avg: 7.2">
                            RV
                            <div class="completion-indicator status-complete">7.2</div>
                        </div>
                        <div class="pyramid-item pyramid-critical" title="Stock Assessment - Avg: 3.1">
                            SA
                            <div class="completion-indicator status-complete">3.1</div>
                        </div>
                    </div>
                    <div class="pyramid-row">
                        <div class="pyramid-item pyramid-important" title="Q2 Survey - Avg: 5.8">
                            Q2
                            <div class="completion-indicator status-complete">5.8</div>
                        </div>
                        <div class="pyramid-item pyramid-important" title="Data Analysis - Avg: 8.1">
                            DA
                            <div class="completion-indicator status-complete">8.1</div>
                        </div>
                        <div class="pyramid-item pyramid-important" title="Publication - 3 Don't Know">
                            PU
                            <div class="completion-indicator status-dont-know">3</div>
                        </div>
                    </div>
                    <div class="pyramid-row">
                        <div class="pyramid-item pyramid-foundational" title="Equipment Maintenance - Avg: 7.9">
                            EM
                            <div class="completion-indicator status-complete">7.9</div>
                        </div>
                        <div class="pyramid-item pyramid-foundational" title="Data QC - Avg: 4.2">
                            QC
                            <div class="completion-indicator status-complete">4.2</div>
                        </div>
                        <div class="pyramid-item pyramid-foundational" title="Procurement - Avg: 6.1">
                            PR
                            <div class="completion-indicator status-complete">6.1</div>
                        </div>
                        <div class="pyramid-item pyramid-foundational" title="Training - 4 Don't Know">
                            TR
                            <div class="completion-indicator status-dont-know">4</div>
                        </div>
                        <div class="pyramid-item pyramid-foundational" title="Safety - Avg: 9.2">
                            SF
                            <div class="completion-indicator status-complete">9.2</div>
                        </div>
                    </div>
                </div>
                <div></div>
            </div>

            <div class="pyramid-stats">
                <div class="level-stat critical-stat">
                    <h3>Critical Projects</h3>
                    <div style="font-size: 1.5rem; font-weight: bold; margin: 10px 0;">5.2 avg</div>
                    <div>100% participation</div>
                </div>
                <div class="level-stat important-stat">
                    <h3>Important Milestones</h3>
                    <div style="font-size: 1.5rem; font-weight: bold; margin: 10px 0;">6.8 avg</div>
                    <div>87% participation</div>
                </div>
                <div class="level-stat foundational-stat">
                    <h3>Foundational Operations</h3>
                    <div style="font-size: 1.5rem; font-weight: bold; margin: 10px 0;">6.9 avg</div>
                    <div>75% participation</div>
                </div>
            </div>

            <!-- LOW SCORES ALERT -->
            <div class="low-scores">
                <h3 style="color: #c0392b; margin-bottom: 15px;">🚨 Items Needing Attention (Score ≤ 4)</h3>
                <div class="low-score-item">
                    <span><strong>Stock Assessment</strong> - Multiple delays in data processing</span>
                    <div class="score-badge">3.1</div>
                </div>
                <div class="low-score-item">
                    <span><strong>Data QC</strong> - Quality issues with recent samples</span>
                    <div class="score-badge">4.2</div>
                </div>
            </div>
        </div>

        <!-- TOPICS MANAGEMENT -->
        <div class="card">
            <h2>💬 Discussion Topics Management</h2>
            <div class="topics-section">
                <div>
                    <h3>Individual Topics (23)</h3>
                    <div class="topic-list">
                        <div class="topic-item emergency">
                            <div class="topic-header">
                                <div class="topic-title">Critical server outage affecting data pipeline</div>
                                <div class="topic-meta">
                                    <span>🚨 URGENT</span>
                                    <span>10min</span>
                                    <span>Alex</span>
                                </div>
                            </div>
                            <div class="topic-actions">
                                <button class="btn-small btn-group" onclick="groupTopic(this)">Group</button>
                                <button class="btn-small btn-delete" onclick="deleteTopic(this)">Delete</button>
                            </div>
                        </div>

                        <div class="topic-item">
                            <div class="topic-header">
                                <div class="topic-title">Q2 budget allocation for equipment purchases</div>
                                <div class="topic-meta">
                                    <span>15min</span>
                                    <span>Sarah</span>
                                </div>
                            </div>
                            <div class="topic-actions">
                                <button class="btn-small btn-group" onclick="groupTopic(this)">Group</button>
                                <button class="btn-small btn-delete" onclick="deleteTopic(this)">Delete</button>
                            </div>
                        </div>

                        <div class="topic-item">
                            <div class="topic-header">
                                <div class="topic-title">Equipment budget for Q2 - need approval</div>
                                <div class="topic-meta">
                                    <span>8min</span>
                                    <span>Mike</span>
                                </div>
                            </div>
                            <div class="topic-actions">
                                <button class="btn-small btn-group" onclick="groupTopic(this)">Group</button>
                                <button class="btn-small btn-delete" onclick="deleteTopic(this)">Delete</button>
                            </div>
                        </div>

                        <div class="topic-item">
                            <div class="topic-header">
                                <div class="topic-title">New vessel scheduling for summer surveys</div>
                                <div class="topic-meta">
                                    <span>12min</span>
                                    <span>Lisa</span>
                                </div>
                            </div>
                            <div class="topic-actions">
                                <button class="btn-small btn-group" onclick="groupTopic(this)">Group</button>
                                <button class="btn-small btn-delete" onclick="deleteTopic(this)">Delete</button>
                            </div>
                        </div>

                        <div class="topic-item">
                            <div class="topic-header">
                                <div class="topic-title">Staff training schedule updates</div>
                                <div class="topic-meta">
                                    <span>5min</span>
                                    <span>David</span>
                                </div>
                            </div>
                            <div class="topic-actions">
                                <button class="btn-small btn-group" onclick="groupTopic(this)">Group</button>
                                <button class="btn-small btn-delete" onclick="deleteTopic(this)">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h3>Grouped Topics (3 groups)</h3>
                    <div class="topic-list">
                        <div class="topic-group">
                            <div class="group-header">
                                <span>💰 Budget & Equipment (3 topics)</span>
                                <button class="btn-small btn-delete" onclick="ungroupTopics(this)">Ungroup</button>
                            </div>
                            <div class="group-topics">
                                <div class="group-topic">Q2 budget allocation for equipment purchases - Sarah</div>
                                <div class="group-topic">Equipment budget for Q2 - need approval - Mike</div>
                                <div class="group-topic">New sonar equipment procurement - Tom</div>
                            </div>
                        </div>

                        <div class="topic-group">
                            <div class="group-header">
                                <span>📊 Data Processing Issues (2 topics)</span>
                                <button class="btn-small btn-delete" onclick="ungroupTopics(this)">Ungroup</button>
                            </div>
                            <div class="group-topics">
                                <div class="group-topic">Data validation pipeline errors - Alex</div>
                                <div class="group-topic">Quality control process improvements - Jenny</div>
                            </div>
                        </div>

                        <div class="topic-group">
                            <div class="group-header">
                                <span>🚢 Survey Planning (4 topics)</span>
                                <button class="btn-small btn-delete" onclick="ungroupTopics(this)">Ungroup</button>
                            </div>
                            <div class="group-topics">
                                <div class="group-topic">Summer survey vessel scheduling - Lisa</div>
                                <div class="group-topic">Survey route optimization - Mark</div>
                                <div class="group-topic">Equipment preparation timeline - Sarah</div>
                                <div class="group-topic">Weather contingency planning - David</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SHOUTOUTS SUMMARY -->
        <div class="card">
            <h2>🎉 Team Shoutouts Summary</h2>
            <div class="shoutouts-display">
                <div class="shoutout-item">
                    <strong>Sarah crushed the data analysis presentation!</strong> - Really impressed the stakeholders with clear visualizations
                </div>
                <div class="shoutout-item">
                    <strong>Huge props to the field team</strong> - Collected samples ahead of schedule despite rough weather
                </div>
                <div class="shoutout-item">
                    <strong>Alex solved the server issue in record time</strong> - Prevented major data loss with quick thinking
                </div>
                <div class="shoutout-item">
                    <strong>Equipment maintenance team excellence</strong> - All instruments calibrated and ready for deployment
                </div>
                <div class="shoutout-item">
                    <strong>Lisa's coordination skills</strong> - Seamlessly managed vessel logistics for 3 concurrent surveys
                </div>
            </div>
        </div>

        <!-- ACTION BUTTONS -->
        <div class="action-buttons">
            <button class="btn-primary" onclick="generateAgenda()">
                📋 Generate Meeting Agenda
            </button>
            <button class="btn-secondary" onclick="exportData()">
                📊 Export Full Report
            </button>
            <button class="btn-secondary" onclick="viewDetailedStats()">
                📈 Detailed Analytics
            </button>
        </div>
    </div>

    <script>
        // Sample data - would come from backend
        let meetingData = {
            participants: 8,
            responseRate: 87,
            totalTopics: 23,
            emergencyTopics: 4,
            shoutouts: 15,
            averageHealth: 6.8,
            dontKnowRate: 12
        };

        // Topic management functions
        function groupTopic(button) {
            const topicItem = button.closest('.topic-item');
            const topicTitle = topicItem.querySelector('.topic-title').textContent;
            
            // Show grouping interface
            const groupName = prompt('Enter group name for: ' + topicTitle);
            if (groupName) {
                // Move to grouped section (simulate)
                topicItem.style.background = 'rgba(243,156,18,0.2)';
                topicItem.style.borderLeftColor = '#f39c12';
                
                // Show success feedback
                button.textContent = 'Grouped!';
                button.style.background = '#27ae60';
                setTimeout(() => {
                    topicItem.style.display = 'none';
                }, 1000);
            }
        }

        function deleteTopic(button) {
            if (confirm('Are you sure you want to delete this topic?')) {
                const topicItem = button.closest('.topic-item');
                topicItem.style.opacity = '0.5';
                topicItem.style.transform = 'translateX(-20px)';
                setTimeout(() => {
                    topicItem.remove();
                    updateTopicCount();
                }, 300);
            }
        }

        function ungroupTopics(button) {
            if (confirm('Ungroup these topics back to individual items?')) {
                const group = button.closest('.topic-group');
                group.style.opacity = '0.5';
                setTimeout(() => {
                    group.remove();
                }, 300);
            }
        }

        function updateTopicCount() {
            // Update topic counter
            const remainingTopics = document.querySelectorAll('.topic-item').length;
            document.querySelector('h3').textContent = `Individual Topics (${remainingTopics})`;
        }

        // Main action functions
        function generateAgenda() {
            // Show loading state
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '⏳ Generating Agenda...';
            button.disabled = true;
            
            setTimeout(() => {
                // Redirect to agenda page
                window.location.href = 'agenda.html';
            }, 2000);
        }

        function exportData() {
            // Simulate data export
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '⏳ Exporting...';
            
            setTimeout(() => {
                button.textContent = '✓ Exported!';
                button.style.background = 'linear-gradient(135deg, #2ecc71, #27ae60)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '';
                }, 2000);
            }, 1500);
        }

        function viewDetailedStats() {
            alert('Detailed analytics would open in a new window with comprehensive breakdowns, charts, and insights.');
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date/time
            document.getElementById('meetingDate').textContent = new Date().toLocaleDateString() + ' Team Check-in';
            
            // Animate stats on load
            setTimeout(() => {
                document.querySelectorAll('.stat-card').forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        card.style.transition = 'all 0.5s ease';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, index * 100);
                });
            }, 500);
        });

        // Auto-refresh data every 30 seconds
        setInterval(() => {
            console.log('Refreshing dashboard data...');
            // Would fetch latest data from backend
        }, 30000);
    </script>
</body>
</html>